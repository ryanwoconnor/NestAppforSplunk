[Generate Device IDs]
action.email.useNSSubject = 1
alert.digest_mode = True
alert.suppress = 0
alert.track = 0
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 * * * *
dispatch.earliest_time = -24h@h
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","ambient_temperature_c","ambient_temperature_f","away_temperature_high_c","away_temperature_high_f","away_temperature_low_c","away_temperature_low_f","battery_health","can_cool","can_heat","co_alarm_state","date_hour","date_mday","date_minute","date_month","date_second","date_wday","date_year","date_zone","device","device_id","device_type","fan_timer_active","GDDrNfU40fKi08LoRuUqrz1YlBYpEigH","has_fan","has_leaf","humidity","hvac_mode","hvac_state","index","is_manual_test_active","is_online","is_using_emergency_heat","last_connection","last_manual_test_time","linecount","locale","name","name_long","punct","smoke_alarm_state","software_version","splunk_server","structure_id","target_temperature_c","target_temperature_f","target_temperature_high_c","target_temperature_high_f","target_temperature_low_c","target_temperature_low_f","temperature_scale","timeendpos","timestamp","timestartpos","ui_color_state","wd9idm13MPul54uZkeZ4tj1YlBYpEigH","where_id","data.structures.WargpIZIqVInsLxHenG3V4N-E6MNCyvlZeEt_rt4vRxoR3Ej8F6cgA.away"]
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.visualizations.charting.chart = line
display.visualizations.show = 0
enableSched = 1
search = index=nest | spath output=new data.devices | spath input=new  | rex field=_raw "thermostats\"\:\[\"(?<thermostats>.*)\"\]"  | rex field=_raw "smoke_co_alarms\"\:\[\"(?<smoke_co_alarms>.*)\"\]\,\"name"  | spath output=new2 data.structures |  rex field=new2 "name\":\"(?<name>.*)\",\"c" |  rex field=new2 "^\{\"(?<account_id>.*)\":" | eval account=split(account_id, "\":")| eval account_id=mvindex(account, 0)| table  name account_id data.metadata.access_token smoke_co_alarms thermostats | fillnull value=NULL name | search name!=NULL | dedup name | rename data.metadata.access_token as access_token | search access_token=* | mvexpand access_token | dedup name access_token | makemv delim="\",\"" allowempty=t smoke_co_alarms |fillnull value="" smoke_co_alarms |  mvexpand smoke_co_alarms|makemv delim="\",\"" allowempty=t thermostats| outputlookup device_lookup_id.csv
